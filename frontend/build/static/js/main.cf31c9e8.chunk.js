(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{195:function(e,t,n){e.exports=n(460)},439:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},444:function(e,t,n){},445:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){},460:function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),i=n.n(o),c=n(72),s=n.n(c),l=n(18),u=n(64),p=(n(204),n(2)),d=n(14),h=n.n(d);function v(e){return{type:a.SET_SESSION,session:e}}function f(){return{type:a.RESET_SESSION}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return{type:a.CALL_BACKEND,method:e,session:n,httpMethod:r,data:o,init:i,notify:!1,excludedNotifications:[],lock:!0,onFetch:t}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(p.a)({},e,{notify:!0,excludedNotifications:t})}!function(e){e.SET_SESSION="SET_SESSION",e.RESET_SESSION="RESET_SESSION",e.LOCK="LOCK",e.UNLOCK="UNLOCK",e.CALL_BACKEND="CALL_BACKEND",e.SHOW_BACKEND_NOTIFICATION_ACTION="SHOW_BACKEND_NOTIFICATION_ACTION",e.HIDE_BACKEND_NOTIFICATION_ACTION="HIDE_BACKEND_NOTIFICATION_ACTION"}(a||(a={})),function(e){e.INVALID_VALUE="INVALID_VALUE",e.CANNOT_CONNECT="CANNOT_CONNECT"}(r||(r={}));var O={locked:!1};var E,y=n(79),g=n(98);function j(e){return{type:E.ADD_QUERY,query:e}}function S(e,t,n){return{type:E.SEND_QUERY,x:e,y:t,r:n}}function N(e){return{type:E.UPDATE_HISTORY,history:e}}!function(e){e.ADD_QUERY="ADD_QUERY",e.SEND_QUERY="SEND_QUERY",e.UPDATE_HISTORY="UPDATE_HISTORY",e.UPDATE_FORM="UPDATE_FORM",e.CLEAN="CLEAN"}(E||(E={}));var C={history:[],form:{}};function k(e,t){return e.x===t.x&&e.y===t.y&&e.r===t.r}var T=Object(u.c)({application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_SESSION:return Object(p.a)({},e,{session:t.session});case a.RESET_SESSION:return Object(p.a)({},e,{session:void 0});case a.LOCK:return Object(p.a)({},e,{locked:!0});case a.UNLOCK:return Object(p.a)({},e,{locked:!1});case a.SHOW_BACKEND_NOTIFICATION_ACTION:return Object(p.a)({},e,{shownCallBackendNotification:t.notificationType});case a.HIDE_BACKEND_NOTIFICATION_ACTION:return Object(p.a)({},e,{shownCallBackendNotification:void 0})}return e},areaPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_QUERY:if(0!==e.history.length&&k(t.query,e.history[e.history.length-1]))break;return Object(p.a)({},e,{history:[].concat(Object(g.a)(e.history),[t.query])});case E.UPDATE_HISTORY:return Object(p.a)({},e,{history:t.history});case E.UPDATE_FORM:return void 0===t.value||"x"===t.property||"r"===t.property||"y"===t.property&&t.value>-5&&t.value<3?Object(p.a)({},e,{form:Object(p.a)({},e.form,Object(y.a)({},t.property,t.value))}):Object(p.a)({},e,{form:Object(p.a)({},e.form,Object(y.a)({},t.property,void 0))});case E.CLEAN:return Object(p.a)({},e,{history:[],form:{}})}return e}}),I=new Map;function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];n.forEach((function(t){return I.set(t,e)}))}function A(e,t,n,a){var r=[];for(var o in n)r.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(n[o])));return fetch("".concat("","/api/v1/").concat(e),Object(p.a)({},a,{method:t,body:["GET","HEAD"].includes(t.toUpperCase())?void 0:r.join("&"),headers:Object(p.a)({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},a.headers)}))}function D(e,t,n){var o,i;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return o=function(e){var r;t.includes(e)||n((r=e,{type:a.SHOW_BACKEND_NOTIFICATION_ACTION,notificationType:r}))},c.prev=1,c.next=4,h.a.awrap(e);case 4:return(i=c.sent).ok||400===i.status&&o(r.INVALID_VALUE),c.abrupt("return",e);case 9:throw c.prev=9,c.t0=c.catch(1),o(r.CANNOT_CONNECT),c.t0;case 13:case"end":return c.stop()}}),null,null,[[1,9]])}function x(e){return Object(p.a)({},e,{created:new Date(e.created)})}var _=n(8),R=n(9),U=n(11),L=n(10),P=n(12),F=n(97),B=n(52),M=function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAllowed,n=e.redirectUrl,a=e.children;return t?a:n?i.a.createElement(B.a,{to:n}):null}}]),t}(i.a.Component),H=Object(l.b)((function(e){return{isAllowed:!e.application.session}}))(M),K=n(40),Y=n(65),V=n(181),W=function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return i.a.createElement(V.Input,Object.assign({type:"password"},this.props))}}]),t}(i.a.Component),X=(n(439),function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",successRegistrationDialog:!1},n.onUsernameChange=function(e){return n.setState(Object(p.a)({},n.state,{username:e,usernameError:void 0}))},n.onPasswordChange=function(e){return n.setState(Object(p.a)({},n.state,{password:e,passwordError:void 0}))},n.onSuccessRegistrationDialogHide=function(){n.setState(Object(p.a)({},n.state,{successRegistrationDialog:!1}))},n.okDialogAction={label:"\u041e\u043a",onClick:n.onSuccessRegistrationDialogHide},n.onSignInError=function(e){401===e&&n.setState(Object(p.a)({},n.state,{usernameError:"\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}))},n.onSignUpSuccess=function(){n.setState(Object(p.a)({},n.state,{successRegistrationDialog:!0}))},n.onSignUpError=function(e){var t=n.state,a=t.username,r=t.password;switch(e){case 400:a.length<2?n.setState(Object(p.a)({},n.state,{usernameError:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"})):0===r.length&&n.setState(Object(p.a)({},n.state,{passwordError:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}));break;case 409:n.setState(Object(p.a)({},n.state,{usernameError:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"}))}},n.onSignIn=function(e){var t=n.state,a=t.username,r=t.password;n.setState(Object(p.a)({},n.state,{usernameError:void 0,passwordError:void 0})),n.props.onSignIn(a,r,n.onSignInError),e.preventDefault()},n.onSignUp=function(e){var t=n.state,a=t.username,r=t.password;n.setState(Object(p.a)({},n.state,{usernameError:void 0,passwordError:void 0})),n.props.onSignUp(a,r,n.onSignUpSuccess,n.onSignUpError),e.preventDefault()},n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props.locked,t=this.state,n=t.username,a=t.password,r=t.usernameError,o=t.passwordError,c=t.successRegistrationDialog;return i.a.createElement("div",{className:"login-form"},i.a.createElement("form",{onSubmit:this.onSignIn},i.a.createElement(V.Input,{label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",disabled:e,error:r,value:n,onChange:this.onUsernameChange}),i.a.createElement(W,{label:"\u041f\u0430\u0440\u043e\u043b\u044c:",disabled:e,error:o,value:a,onChange:this.onPasswordChange}),i.a.createElement(K.Button,{type:"submit",label:"\u0412\u0445\u043e\u0434",className:"page-rightGap",raised:!0,primary:!0,disabled:e}),i.a.createElement(K.Button,{type:"button",label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",raised:!0,disabled:e,onClick:this.onSignUp})),i.a.createElement(Y.Dialog,{title:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c",actions:[this.okDialogAction],onOverlayClick:this.onSuccessRegistrationDialogHide,onEscKeyDown:this.onSuccessRegistrationDialogHide,active:c},i.a.createElement("p",null,"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!")))}}]),t}(i.a.Component));var Q=Object(l.b)((function(e){return{locked:e.application.locked}}),(function(e){return{onSignIn:function(t,n,a){var o=btoa("".concat(t,":").concat(n));e(b(m("history",(function(t){var n;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(t);case 2:if(!(n=r.sent).ok){r.next=14;break}return e(v(o)),r.t0=e,r.t1=N,r.next=9,h.a.awrap(n.json());case 9:return r.t2=x,r.t3=r.sent.map(r.t2),r.t4=(0,r.t1)(r.t3),(0,r.t0)(r.t4),r.abrupt("return");case 14:a(n.status);case 15:case"end":return r.stop()}}))}),o),[r.INVALID_VALUE]))},onSignUp:function(t,n,a,o){e(b(m("user",(function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(e);case 2:if(!(t=n.sent).ok){n.next=6;break}return a(),n.abrupt("return");case 6:o(t.status);case 7:case"end":return n.stop()}}))}),void 0,"POST",{username:t,password:n}),[r.INVALID_VALUE]))}}}))(X),J=(n(440),function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return i.a.createElement(H,{redirectUrl:"/area"},i.a.createElement("div",{className:"login-page-main"},i.a.createElement("div",{className:"login-form-container page-block"},i.a.createElement(Q,null))))}}]),t}(i.a.Component)),q=Object(l.b)((function(e){return{isAllowed:!!e.application.session}}))(M),G=(n(441),function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props.history;return i.a.createElement("table",{className:"history-table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"X"),i.a.createElement("th",null,"Y"),i.a.createElement("th",null,"R"),i.a.createElement("th",null,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),i.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),i.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438"))),i.a.createElement("tbody",null,Object(g.a)(e).reverse().map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.x),i.a.createElement("td",null,e.y),i.a.createElement("td",{className:"no-wrap"},e.r),i.a.createElement("td",null,"\u0442\u043e\u0447\u043a\u0430 ",e.result?"":"\u043d\u0435"," \u043f\u043e\u043f\u0430\u043b\u0430 \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),i.a.createElement("td",null,e.created.toLocaleString()),i.a.createElement("td",{className:"no-wrap"},e.elapsed," \u0441"))}))))}}]),t}(i.a.Component));var z=Object(l.b)((function(e){return{history:e.areaPage.history}}))(G),$=n(194),Z=(n(442),function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.disabled,a=e.availableValues,r=e.value,o=e.onChange;return i.a.createElement("div",{className:"ButtonsField"},t&&i.a.createElement("div",{className:"ButtonsField-label"},t),i.a.createElement("div",{className:"ButtonsField-buttons"},a.map((function(e){var t=Object($.a)(e,2),a=t[0],c=t[1];return i.a.createElement(K.Button,{key:c,onClick:function(){return o(r===c?void 0:c)},label:a,floating:!0,mini:!0,primary:r===c,disabled:n})}))))}}]),t}(i.a.Component));Z.defaultProps={disabled:!1,onChange:function(){}};var ee=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.onChange=function(e){n.props.trimValue&&(e=e.trim()),void 0!==n.props.maxLength&&e.length>n.props.maxLength||n.setState(Object(p.a)({},n.state,{value:e}))},n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e,n,a){if(e.value!==this.props.value&&this.props.value&&+this.state.value!==this.props.value&&this.setState(Object(p.a)({},this.state,{value:String(this.props.value)})),n.value!==this.state.value){var r=t.verifyNumber(this.state.value);t.verifyNumber(n.value)!==r&&this.props.onChange(r)}}},{key:"render",value:function(){var e=Object(p.a)({},this.props);return delete e.trimValue,delete e.value,delete e.onChange,delete e.maxLength,i.a.createElement(V.Input,Object.assign({type:"text"},e,{value:this.state.value,onChange:this.onChange}))}}],[{key:"verifyNumber",value:function(e){if(e.trim())return e=e.replace(",","."),isNaN(+e)?null:+e}}]),t}(i.a.Component);ee.defaultProps={trimValue:!0,onChange:function(){}};n(443);var te=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={yError:!1},n.onSubmit=function(e){n.validateParameters()&&n.props.onSubmit(),e.preventDefault()},n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.state.yError!==(void 0===this.props.y&&void 0!==this.state.y)&&this.setState(Object(p.a)({},this.state,{yError:!this.state.yError})),["x","y","r"].forEach((function(e){t[e]!==a.state[e]&&a.props.onChange(e,a.state[e])}))}},{key:"validateParameters",value:function(){var e=this.props,t=e.x,n=e.y,a=e.r;return void 0!==t&&void 0!==n&&void 0!==a}},{key:"render",value:function(){var e=this,n=this.props.locked,a=this.state,r=a.x,o=a.y,c=a.r,s=a.yError;return i.a.createElement("div",{className:"area-form"},i.a.createElement("form",{onSubmit:this.onSubmit},i.a.createElement(Z,{label:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 X:",availableValues:t.availableX,value:r,disabled:n,onChange:function(t){return e.setState(Object(p.a)({},e.state,{x:t}))}}),i.a.createElement(ee,{label:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 Y:",hint:"(-5, 3)",value:o,maxLength:16,error:s&&t.errorMessages.y,disabled:n,onChange:function(t){return e.setState(Object(p.a)({},e.state,{y:t}))}}),i.a.createElement(Z,{label:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 R:",availableValues:t.availableR,value:c,disabled:n,onChange:function(t){return e.setState(Object(p.a)({},e.state,{r:t}))}}),i.a.createElement(K.Button,{type:"submit",label:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c",raised:!0,primary:!0,disabled:n||!this.validateParameters()})))}}]),t}(i.a.Component);te.errorMessages={y:"Y \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u0438 \u0432\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b (-5, 3)"},te.availableX=[-4,-3,-2,-1,0,1,2,3,4].map((function(e){return[String(e),e]})),te.availableR=[-4,-3,-2,-1,0,1,2,3,4].map((function(e){return[String(e),e]}));var ne=Object(l.b)((function(e){return Object(p.a)({locked:e.application.locked},e.areaPage.form)}),(function(e){return{onChange:function(t,n){e(function(e,t){return{type:E.UPDATE_FORM,property:e,value:t}}(t,null===n?void 0:n))},onSubmit:function(){e(S())}}}))(te);function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=Math.pow(10,t);return+(Math.round(e*n)/n).toFixed(t)}n(444);var re=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(U.a)(this,Object(L.a)(t).call(this,e))).canvas=void 0,n.canvasScale=1,n.canvasTranslate={x:0,y:0},n.onUndefinedRDialogHide=function(){return n.setState(Object(p.a)({},n.state,{undefinedRDialog:!1}))},n.okDialogAction={label:"\u041e\u043a",onClick:n.onUndefinedRDialogHide},n.state={undefinedRDialog:!1},n.onClick=function(){var e=n.props,t=e.form,a=e.locked,r=e.onSubmit,o=n.state.mouse;a||(void 0!==t.r?o&&r(o.x,o.y):n.setState(Object(p.a)({},n.state,{undefinedRDialog:!0})))},n.onMouseMove=function(e){var t=e.currentTarget;if(null!=t){var a=parseInt(oe(t,"border-left-width"),10),r=parseInt(oe(t,"border-top-width"),10),o=t.getBoundingClientRect(),i=Math.ceil(e.clientX-o.left-a)/n.canvasScale-n.canvasTranslate.x,c=Math.ceil(e.clientY-o.top-r)/n.canvasScale-n.canvasTranslate.y;if(!(i<0||i>=400||c<0||c>=400)){n.setState(Object(p.a)({},n.state,{mouse:{x:(i-200)/(400/14),y:(200-c)/(400/14),popupX:e.clientX,popupY:document.documentElement.clientHeight-e.clientY}}))}}},n.onMouseLeave=function(){n.setState(Object(p.a)({},n.state,{mouse:void 0}))},n.canvas=i.a.createRef(),n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"repaint",value:function(){var e=this.props,t=e.form,n=e.history,a=this.canvas.current;if(a){var r=a.getContext("2d"),o=parseInt(oe(a,"width"),10),i=parseInt(oe(a,"height"),10);r.globalAlpha=1,r.resetTransform(),r.clearRect(0,0,a.width,a.height);var c=this.canvasScale=Math.min(o/400,i/400);r.scale(c,c);var s=this.canvasTranslate={x:(o/c-400)/2,y:(i/c-400)/2};if(r.translate(s.x,s.y),r.strokeStyle="#090909",r.fillStyle="#F9F9F9",r.font="bold ".concat(200/7/2,"px 'Courier New', monospace"),r.fillRect(0,0,400,400),r.beginPath(),r.rect(0,0,400,400),r.clip(),void 0!==t.r){var l=+t.r,u=+t.r/2;r.fillStyle="#007AD9",r.beginPath(),r.moveTo(200,200),r.lineTo(200,200-200/7*u),r.lineTo(200+200/7*l,200),r.lineTo(200+200/7*u,200),r.lineTo(200+200/7*u,200+200/7*l),r.lineTo(200,200+200/7*l),r.lineTo(200,200+200/7*u),r.arcTo(200-200/7*u,200+200/7*u,200-200/7*u,200,Math.abs((200/7+200/7)/2*u)),r.fill(),r.fillStyle="#F9F9F9"}r.strokeStyle="#C0C0C0",r.beginPath();for(var p=1;p<14;++p)r.moveTo(200/7/4,p*(200/7)),r.lineTo(400-200/7/4,p*(200/7)),r.moveTo(p*(200/7),200/7/4),r.lineTo(p*(200/7),400-200/7/4);r.stroke(),r.strokeStyle="#090909",r.lineWidth=2,r.beginPath(),r.moveTo(200/7/2,200),r.lineTo(400-200/7/2,200),r.moveTo(400-200/7,200-200/7/4),r.lineTo(400-200/7/2,200),r.lineTo(400-200/7,200+200/7/4),r.moveTo(200,400-200/7/2),r.lineTo(200,200/7/2),r.moveTo(200-200/7/4,200/7),r.lineTo(200,200/7/2),r.lineTo(200+200/7/4,200/7),r.stroke(),r.lineWidth=1,r.fillStyle="rgba(0, 0, 0, 0.5)",r.beginPath(),r.moveTo(0,0),r.lineTo(400,0),r.lineTo(400,400),r.lineTo(0,400),r.closePath(),r.moveTo(200-200/7*4,200-200/7*3),r.lineTo(200+200/7*4,200-200/7*3),r.lineTo(200+200/7*4,200+200/7*5),r.lineTo(200-200/7*4,200+200/7*5),r.closePath(),r.fill("evenodd"),r.fillStyle="#F9F9F9",r.lineWidth=.5;n.forEach((function(e){r.fillStyle=e.r!==t.r?"#333333":e.result?"#00ff00":"#ff0000",r.beginPath(),r.arc(+e.x*(200/7)+200,200-+e.y*(200/7),3,0,2*Math.PI),r.fill(),r.stroke()})),r.globalAlpha=1,r.fillStyle="#F9F9F9",void 0!==t.x&&(r.beginPath(),r.moveTo(+t.x*(200/7)+200,400),r.lineTo(+t.x*(200/7)+200,0),r.stroke()),null!=t.y&&(r.beginPath(),r.moveTo(0,200-+t.y*(200/7)),r.lineTo(400,200-+t.y*(200/7)),r.stroke()),r.fillStyle="#F9F9F9"}}},{key:"componentDidMount",value:function(){this.repaint()}},{key:"componentDidUpdate",value:function(e,t,n){this.repaint()}},{key:"render",value:function(){var e,t,n,a,r=this.props,o=r.width,c=r.height,s=this.state,l=s.mouse,u=s.undefinedRDialog;return i.a.createElement("div",{className:"area"},i.a.createElement("canvas",{ref:this.canvas,className:"area-canvas",width:o,height:c,onClick:this.onClick,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave}),i.a.createElement("div",{className:"area-mouse-position",style:{left:(null!==(e=null===l||void 0===l?void 0:l.popupX)&&void 0!==e?e:0)+"px",bottom:(null!==(t=null===l||void 0===l?void 0:l.popupY)&&void 0!==t?t:0)+"px",display:l?"inherit":"none"}},i.a.createElement("div",{className:"area-mouse-position-bubble shadow-container"},i.a.createElement("div",{className:"area-mouse-position-content"},"X: ",ae(null!==(n=null===l||void 0===l?void 0:l.x)&&void 0!==n?n:0),i.a.createElement("br",null),"Y: ",ae(null!==(a=null===l||void 0===l?void 0:l.y)&&void 0!==a?a:0)))),i.a.createElement(Y.Dialog,{title:"\u041e\u0448\u0438\u0431\u043a\u0430",actions:[this.okDialogAction],onOverlayClick:this.onUndefinedRDialogHide,onEscKeyDown:this.onUndefinedRDialogHide,active:u},i.a.createElement("p",null,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 R \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d.",i.a.createElement("br",null),"\u0414\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 R \u0432 \u0444\u043e\u0440\u043c\u0443 \u0440\u044f\u0434\u043e\u043c.")))}}]),t}(i.a.Component);function oe(e,t){try{return window.getComputedStyle(e,null).getPropertyValue(t)}catch(n){return e.currentStyle[t]}}re.defaultProps={width:400,height:400};var ie=Object(l.b)((function(e){return{locked:e.application.locked,history:e.areaPage.history,form:e.areaPage.form}}),(function(e){return{onSubmit:function(t,n){e(S(t,n))}}}))(re),ce=(n(445),function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).reloadInterval=void 0,n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.setReloadInterval()}},{key:"componentDidUpdate",value:function(e,t,n){e.session!==this.props.session&&(void 0!==this.reloadInterval&&window.clearInterval(this.reloadInterval),this.setReloadInterval())}},{key:"setReloadInterval",value:function(){var e=this.props,t=e.session,n=e.reloadHistory;void 0!==t&&(this.reloadInterval=window.setInterval((function(){return n(t)}),1e3))}},{key:"render",value:function(){return i.a.createElement(q,{redirectUrl:"/"},i.a.createElement("div",{className:"area-page-main"},i.a.createElement("div",{className:"area-page-row"},i.a.createElement("div",{className:"area-container page-block"},i.a.createElement(ie,null)),i.a.createElement("div",{className:"area-form-container page-block"},i.a.createElement(ne,null))),i.a.createElement(M,{isAllowed:this.props.historyLength>0},i.a.createElement("div",{className:"history-table-container page-block"},i.a.createElement(z,null)))))}}]),t}(i.a.Component));var se=Object(l.b)((function(e){return{session:e.application.session,historyLength:e.areaPage.history.length}}),(function(e){return{reloadHistory:function(t){var n;e((n=m("history",(function(t){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(t);case 2:if((n=a.sent).ok){a.next=5;break}return a.abrupt("return");case 5:return a.t0=e,a.t1=N,a.next=9,h.a.awrap(n.json());case 9:a.t2=x,a.t3=a.sent.map(a.t2),a.t4=(0,a.t1)(a.t3),(0,a.t0)(a.t4);case 13:case"end":return a.stop()}}))}),t),Object(p.a)({},n,{lock:!1})))}}}))(ce),le=i.a.createElement(B.d,null,i.a.createElement(B.b,{exact:!0,path:"/",component:J}),i.a.createElement(B.b,{exact:!0,path:"/area",component:se})),ue=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).okDialogAction={label:"\u041e\u043a",onClick:n.props.onNotificationHide},n}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.shownCallBackendNotification,n=e.onNotificationHide;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Y.Dialog,{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",actions:[this.okDialogAction],onOverlayClick:n,onEscKeyDown:n,active:t===r.INVALID_VALUE},i.a.createElement("p",null,"\u0412 \u043e\u0434\u043d\u043e\u043c \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0431\u044b\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",i.a.createElement("br",null),"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.")),i.a.createElement(Y.Dialog,{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f",actions:[this.okDialogAction],onOverlayClick:n,onEscKeyDown:n,active:t===r.CANNOT_CONNECT},i.a.createElement("p",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.")))}}]),t}(i.a.Component);var pe=Object(l.b)((function(e){return{shownCallBackendNotification:e.application.shownCallBackendNotification}}),(function(e){return{onNotificationHide:function(){e({type:a.HIDE_BACKEND_NOTIFICATION_ACTION})},onSignOut:function(){e(f())}}}))(ue),de=n(136),he=n(131),ve=function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return i.a.createElement(K.Button,{label:"\u0412\u044b\u0445\u043e\u0434",onClick:this.props.onSignOut,raised:!0})}}]),t}(i.a.Component);var fe=Object(l.b)(void 0,(function(e){return{onSignOut:function(){e(f())}}}))(ve),me=(n(456),function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"header page-block"},i.a.createElement("h1",null,"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164"),"\u043f\u043e \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435",i.a.createElement("h2",null,"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),i.a.createElement("div",{className:"header-details"},i.a.createElement("strong",null,"\u041b\u044b\u0441\u0435\u043d\u043a\u043e \u0418\u0432\u0430\u043d \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432\u0438\u0447"),i.a.createElement("br",null),i.a.createElement("strong",null,"\u0421\u043e\u043a\u043e\u043b\u043e\u0432\u0430 \u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f \u0414\u0435\u043d\u0438\u0441\u043e\u0432\u043d\u0430"),i.a.createElement("br",null),"\u0413\u0440\u0443\u043f\u043f\u0430: ",i.a.createElement("strong",null,"P3201"),i.a.createElement("br",null),"\u0412\u0430\u0440\u0438\u0430\u043d\u0442: ",i.a.createElement("strong",null,"20133")))}}]),t}(i.a.Component)),be=(n(457),function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return i.a.createElement(de.Layout,{className:"page"},i.a.createElement(de.Panel,null,i.a.createElement(q,null,i.a.createElement(he.AppBar,null,i.a.createElement("div",{className:"page-title"},i.a.createElement(fe,null)))),i.a.createElement("div",{className:"page-content"},i.a.createElement(me,null),this.props.children)))}}]),t}(i.a.Component)),Oe=(n(458),function(e){function t(){return Object(_.a)(this,t),Object(U.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.loadSession()}},{key:"render",value:function(){return i.a.createElement(be,null,i.a.createElement(F.a,null,le),i.a.createElement(pe,null))}}]),t}(i.a.Component));var Ee=Object(l.b)(void 0,(function(e){return{loadSession:function(){try{var t,n=JSON.parse(null!==(t=localStorage.getItem("session"))&&void 0!==t?t:"null");n&&e(m("history",(function(t){var a;return h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.awrap(t);case 2:if(!(a=r.sent).ok){r.next=13;break}return e(v(n)),r.t0=e,r.t1=N,r.next=9,h.a.awrap(a.json());case 9:r.t2=x,r.t3=r.sent.map(r.t2),r.t4=(0,r.t1)(r.t3),(0,r.t0)(r.t4);case 13:case"end":return r.stop()}}))}),n))}catch(a){console.log(a)}}}}))(Oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(459);var ye=Object(u.d)(T,Object(u.a)((function(e){return function(t){return function(n){var a=I.get(n.type);a&&a(n,e),t(n)}}})));w((function(e,t){!function(){var n;h.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.lock&&t.dispatch({type:a.LOCK}),void 0===e.session?n=A(e.method,e.httpMethod,e.data,e.init):(o=e.method,i=e.session,c=e.httpMethod,s=e.data,l=e.init,n=A(o,c,s,Object(p.a)({},l,{headers:Object(p.a)({Authorization:"Basic ".concat(i)},l.headers)}))),!e.notify){r.next=8;break}return r.next=6,h.a.awrap(e.onFetch(D(n,e.excludedNotifications,t.dispatch)));case 6:r.next=10;break;case 8:return r.next=10,h.a.awrap(e.onFetch(n));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:return r.prev=15,e.lock&&t.dispatch({type:a.UNLOCK}),r.finish(15);case 18:case"end":return r.stop()}var o,i,c,s,l}),null,null,[[0,12,15,18]])}()}),a.CALL_BACKEND),w((function(e,t){switch(e.type){case a.SET_SESSION:localStorage.setItem("session",JSON.stringify(e.session));break;case a.RESET_SESSION:localStorage.removeItem("session"),t.dispatch({type:E.CLEAN})}}),a.SET_SESSION,a.RESET_SESSION),w((function(e,t){var n,a,r,o=t.getState(),i=null!==(n=e.x)&&void 0!==n?n:o.areaPage.form.x,c=null!==(a=e.y)&&void 0!==a?a:o.areaPage.form.y,s=null!==(r=e.r)&&void 0!==r?r:o.areaPage.form.r;void 0!==i&&void 0!==c&&void 0!==s&&t.dispatch(b(m("areaCheck",(function(e){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(e);case 2:if((n=a.sent).ok){a.next=5;break}return a.abrupt("return");case 5:return a.t0=t,a.t1=j,a.t2=x,a.next=10,h.a.awrap(n.json());case 10:a.t3=a.sent,a.t4=(0,a.t2)(a.t3),a.t5=(0,a.t1)(a.t4),a.t0.dispatch.call(a.t0,a.t5);case 14:case"end":return a.stop()}}))}),o.application.session,"POST",{x:i,y:c,r:s})))}),E.SEND_QUERY),s.a.render(i.a.createElement(l.a,{store:ye},i.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[195,1,2]]]);
//# sourceMappingURL=main.cf31c9e8.chunk.js.map